<!DOCTYPE html>
<html >
    <head>
        <title>Hello World</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link href="res/jquery.mobile-1.3.1.css" rel="stylesheet">
        <script src="res/jquery-1.9.1.min.js "></script>
        <script src="res/angular.min.js "></script>
        <script src="res/jquery.mobile-1.3.1.min.js "></script>
        <script src="phonegap.js"></script>
        <script src="index_jqm_rest.js"></script>
        <script src="phonegap_gps.js"></script>
        <script>
            $(document).on("deviceready",function() {
                $("#gpsLink").on('vclick', function() {
                    console.log('switching page');
                   $.mobile.changePage('#gpspage');
                });
                $("#refreshLink").on('vclick', function() {
                    angular.element("#mainpage").scope().refresh();
                });
                $("#saveLink").on('vclick', function() {
                    angular.element("#mainpage").scope().save();
                });
                navigator.splashscreen.hide();
                console.log('ready');
            })
        </script>
    </head>
    
    <body>
        <div id='mainpage' data-url='mainpage' data-role='page' ng-app="jqmREST" ng-controller="jqmRESTctrl">
            <div data-role="header" data-theme="b">
                <a href="#" id="gpsLink" data-icon="star">GPS</a>
                <h1>Hello {{yourCountry}}</h1>
            </div>
            <div data-role="content">
                <form>
                    <fieldset data-role="controlgroup ">
                        <legend>Where are you ?</legend>
                        <label for="countryselect " class="select ">Your Country</label>
                        <select id="countryselect " name="countryselect" ng-model="yourCountry ">
                            <option value="World">World</option>
                            <option value="Belgium">Belgium</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                        </select>
                    </fieldset>
                </form>
            </div>
            <div data-role="footer" data-position="fixed">
                <div data-role="navbar">
                    <ul>
                        <li><a id="refreshLink" href="#" data-icon="refresh" data-theme="b" data-role="button">Sync</a></li>
                        <li><a id="saveLink" href="#" data-icon="check" data-theme="b" data-role="button">Save</a></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div id='gpspage' data-url='gpspage' data-role='page' ng-app="phonegapModule" ng-controller="phonegapCtrl">
            <div data-role="header"><h1>Current position</h1></div>
            <div data-role="content">
                {{gpsLocation}}
            </div>
            <div data-role="footer" data-position="fixed">
                <a href="#" data-icon="back" data-theme="b" id="gpsSync" >Sync</a>
                <a href="#mainpage" data-icon="back" data-theme="b" data-rel="back" >Back</a>
            </div>
</div>

</body>
</html>
